----------------------------------------------
SoftMPU 1.3 by bjt - Software MPU-401 Emulator
----------------------------------------------
Copyright (C) 2013        bjt
Copyright (C) 2002-2013   The DOSBox Team
----------------------------------------------

Release Notes (09/07/13)

WHAT IS IT?

SoftMPU is a DOS TSR that emulates an 'intelligent mode' hardware MPU-401
interface. It's designed to work in tandem with the MPU interface found on
the Sound Blaster 16 and other common sound cards.

WHY'S THIS USEFUL?

Games from the late 80s and early 90s that support music via the Roland
MT-32/CM-32L often expect to find a hardware MPU interface that supports
'intelligent mode'. These are now expensive and difficult to find.

By supporting the 'intelligent mode' features in software, these games will
work with the basic MPU interface found on sound cards.

REQUIREMENTS

- MS-DOS 6.0 or later. SoftMPU will not work from within Windows
- EMM386 must be loaded
- Sound Blaster (or compatible) sound card with an MPU-401 interface
  supporting UART mode (e.g. Sound Blaster 16/AWE, Yamaha YMF71x)
- Roland LA synth (e.g. MT-32, CM-32L) or a sound card with MT-32 emulation

USING SOFTMPU

Run SoftMPU specifying the base I/O port address and interrupt of your Sound
Blaster, and the base I/O port address of your hardware MPU interface, e.g.

  SOFTMPU.EXE /SB:220 /IRQ:5 /MPU:330

The optional /DELAYSYSEX switch enables small transmission delays to prevent
buffer overflow with the Rev.0 MT-32.

SoftMPU will remain active until the PC is restarted. It occupies
approximately 7KB and can be loaded into high memory using the LH command.

TROUBLESHOOTING

Problem:  When using a PS/2 mouse, moving the cursor causes slow playback.
Solution: Use a mouse driver that supports direct hardware access e.g.
          CuteMouse 2.0 (but not 2.1).

Problem:  Some games (e.g. Gateway) expect to find an MPU interface on IRQ 2,
          but my sound card doesn't support it.
Solution: Use IRQ 9 instead. This is supported by Yamaha YMF71x sound cards,
          maybe others too.

Problem:  My Rev.0 MT-32 displays "EXC. BUFFER OVERFLOW". Music playback
          sounds incorrect.
Solution: Run SoftMPU with the /DELAYSYSEX switch.

Problem:  Music playback stops working after running a specific program.
Solution: Restart your PC. Software that reprograms the Real-Time Clock will
          stop SoftMPU from working correctly.

FURTHER INFO

For game compatibility information, please see
http://github.com/bjt42/softmpu/wiki.

BUILDING SOFTMPU

Microsoft C 6.0A & MASM 6.11 are required (earlier versions may work, but are
untested).

The default install directories are C:\C600 and C:\MASM611. You will need to
edit BUILD.BAT if you have selected different install directories.

Run BUILD.BAT to build SOFTMPU.EXE in the current directory.

DISTRIBUTION

SoftMPU is distributed under the GNU General Public License. Please read
LICENSE for further information.

SPECIAL THANKS

- The DOSBox Team for their intelligent mode MPU-401 emulation code. SoftMPU
  couldn't exist without it!
- Forum members at vogons.zetafleet.com for their encouragement and advice :)
